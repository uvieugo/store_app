(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{227:function(e,t,a){e.exports=a(458)},245:function(e,t){},247:function(e,t){},279:function(e,t){},280:function(e,t){},341:function(e,t,a){},345:function(e,t,a){},347:function(e,t,a){},458:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(35),l=a.n(r),m=a(4),s=function(e){return c.a.createElement("div",{id:"header",className:"header"},c.a.createElement("h1",null,e.text))},o=a(15),i=a(9),u=a(43),d=a.n(u);d.a.setAppElement("#root");var p=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)([]),u=Object(m.a)(s,2),p=u[0],E=u[1];Object(n.useEffect)((function(){var t=e.menuitem.options.map((function(e){var t=Object(i.a)({},e);return t.selected=!1,t}));E(t)}),[]);var b=function(t){t.preventDefault();var a=p.filter((function(e){return!0===e.selected})),n={objectNum:e.menuitem.object_num,name:e.menuitem.name,price:e.menuitem.price,count:1},c=0;if(0!==a.length){n.options=a;c=n.options.reduce((function(e,t){return e+t.price}),0)}n.optionsAmount=c,n.cartId=Date.now(),e.setcart((function(e){var t=Object(i.a)({},e);return t.totalAmount+=n.price+n.optionsAmount,t.items.push(n),t})),!0===r&&l(!r)},f=function(e){var t=e.target.name;E((function(e){var a=Object(o.a)(e),n=a.findIndex((function(e){return e.name===t}));return a[n].selected=!a[n].selected,a}))},v=p.map((function(e){return c.a.createElement("div",{key:e.id,className:"option"},c.a.createElement("label",{className:"pl-2 pr-2 d-block"},c.a.createElement("input",{name:e.name,type:"checkbox",className:"mr-2",checked:e.selected,onChange:f}),c.a.createElement("span",null,e.name)," ",c.a.createElement("span",{className:"text-muted small"},"\u20a6",e.price)))}));return c.a.createElement("div",{className:"menu-list-item"},c.a.createElement("div",{id:e.menuitem.object_num,className:"row align-items-center"},c.a.createElement("div",{className:"name col-sm-6 col-5 mb-2 mb-sm-0"},e.menuitem.name),c.a.createElement("div",{className:"col-sm-6 col-7 text-right"},c.a.createElement("span",{className:"mr-2 price"},"\u20a6",e.menuitem.price),c.a.createElement("button",{className:"btn btn-outline-secondary btn-sm",onClick:function(t){0===e.menuitem.options.length?b(t):l(!r)}},"Add to Cart"))),c.a.createElement(d.a,{isOpen:r,className:"mymodal",overlayClassName:"mymodal-overlay",onRequestClose:function(){return l(!1)},contentLabel:"Example Modal"},c.a.createElement("div",{className:""},c.a.createElement("div",{className:"menu-options"},c.a.createElement("div",{className:"header text-center"},"Select Any Extra Items"),v),c.a.createElement("button",{className:"btn btn-secondary btn-block rounded-0",onClick:b},"Add to Cart"))))},E={All:function(){return!0}};["Toasted Treat","Dessert","Nigerian Cuisine","From The Grill","Salads","Alcholic Drinks","Soft Drinks","Light Meal"].forEach((function(e){E[e]=function(t){return t.menu_class===e}}));var b=E;var f,v=function(e){return c.a.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm m-1","aria-pressed":e.isPressed,onClick:function(){return e.setFilter(e.name)}},c.a.createElement("span",null,e.name))},N=function(e){var t;return e.item.options&&(t=e.item.options.map((function(e,t){return c.a.createElement("div",{key:t,className:"row no-gutters"},c.a.createElement("div",{className:"col-3"}),c.a.createElement("div",{className:"col-5"},e.name),c.a.createElement("div",{className:"col-3"},"\u20a6",e.price.toFixed(2)),c.a.createElement("div",{className:"col-1"}))}))),c.a.createElement("div",{className:"cart-list-item"},c.a.createElement("div",{className:"row no-gutters"},c.a.createElement("div",{className:"col-3 quantity"},e.item.count),c.a.createElement("div",{className:"col-5"},e.item.name),c.a.createElement("div",{className:"col-3"},c.a.createElement("span",{className:"price"},"\u20a6",e.item.price.toFixed(2))),c.a.createElement("div",{className:"col-1"},c.a.createElement("button",{className:"remove-item",onClick:function(){return e.setcart(e.item.cartId)}},"X"))),c.a.createElement("div",null,t))},g=a(78),h=a.n(g),O=function(e){var t=function(t){e.setcart((function(e){var a=Object(i.a)({},e),n=0,c=0;return a.items=e.items.filter((function(e){return e.cartId===t&&(n=e.price,e.options&&(c=e.options.reduce((function(e,t){return e+t.price}),0))),e.cartId!==t})),a.totalAmount-=n+c,a}))},a=function(t){var a=h.a.find(e.menuitems,{object_num:t}).price;e.setcart((function(e){var n=Object(i.a)({},e);return n.items.map((function(e){return e.objectNum===t&&(e.count+=1,e.price+=a),e})),n.totalPrice+=a,n}))},n=function(t){var a=h.a.find(e.menuitems,{object_num:t}).price;e.setcart((function(e){var n=Object(i.a)({},e);return n.items=h.a.filter(e.items,(function(e){return e.objectNum===t&&(e.count-=1,e.price-=a),0!==e.count})),n.totalPrice-=a,n}))},r=e.cart.items.map((function(e){return c.a.createElement(N,{key:e.cartId,item:e,incrementItem:a,decrementItem:n,setcart:t})}));return c.a.createElement("div",null,c.a.createElement("h3",null,"Your Cart"),0===e.cart.items.length?c.a.createElement("span",{className:"empty-cart"},"No Items in cart"):c.a.createElement("div",{className:"cart-items"},r,c.a.createElement("div",{className:"cart-list-item text-right"},c.a.createElement("span",{className:"subtotal"},"Subtotal:"),c.a.createElement("span",null," \u20a6",e.cart.totalAmount.toFixed(2)," ")),c.a.createElement("div",{className:"cart-list-item"},c.a.createElement("button",{className:"btn btn-outline-secondary",onClick:function(){e.setPage("checkout")}},"CheckOut"))))},j=Object.keys(b),C=function(e){var t=Object(n.useState)("All"),a=Object(m.a)(t,2),r=a[0],l=a[1],s=e.menuItems.filter(b[r]).map((function(t){return c.a.createElement(p,{key:t.id,menuitem:t,setcart:e.setCart})})),o=j.map((function(e){return c.a.createElement(v,{key:e,name:e,isPressed:e===r,setFilter:l})}));return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12"},c.a.createElement("div",{className:"cat-filter"},o)),c.a.createElement("div",{className:"col-md-8"},c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"menu-list"},s))),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"cart"},c.a.createElement(O,{cart:e.cart,setcart:e.setCart,menuitems:e.menuItems,setPage:e.setPage})))))},y=a(204),k=a.n(y),x=a(42),I=a(463),w=a(466),S={firstName:"",lastName:"",email:"",phone:"",address1:"",address2:""},P=function(e){var t=Object(n.useState)(S),a=Object(m.a)(t,2),r=a[0],l=a[1],s=function(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(i.a)({},e,Object(x.a)({},a,n))}))};return c.a.createElement(I.a,{onSubmit:function(t){t.preventDefault(),e.handleOrder(r)}},c.a.createElement(I.a.Row,null,c.a.createElement(I.a.Group,{className:"col-sm-6",controlId:"firstName"},c.a.createElement(I.a.Label,null,"First Name"),c.a.createElement(I.a.Control,{type:"text",placeholder:"First Name",onChange:s,name:"firstName",value:r.firstName})),c.a.createElement(I.a.Group,{className:"col-sm-6",controlId:"lastName"},c.a.createElement(I.a.Label,null,"Last Name"),c.a.createElement(I.a.Control,{type:"text",placeholder:"Last Name",onChange:s,name:"lastName",value:r.lastName})),c.a.createElement(I.a.Group,{className:"col-sm-6",controlId:"email"},c.a.createElement(I.a.Label,null,"Email"),c.a.createElement(I.a.Control,{type:"email",placeholder:"Email",onChange:s,name:"email",value:r.email})),c.a.createElement(I.a.Group,{className:"col-sm-6",controlId:"Phone"},c.a.createElement(I.a.Label,null,"Phone"),c.a.createElement(I.a.Control,{type:"text",placeholder:"Phone Number",onChange:s,name:"phone",value:r.phone}))),c.a.createElement(I.a.Group,{controlId:"address1"},c.a.createElement(I.a.Label,null,"Address 1"),c.a.createElement(I.a.Control,{placeholder:"Address 1",onChange:s,name:"address1",value:r.address1})),c.a.createElement(I.a.Group,{controlId:"address2"},c.a.createElement(I.a.Label,null,"Address 2"),c.a.createElement(I.a.Control,{placeholder:"Address 2",onChange:s,name:"address2",value:r.address2})),c.a.createElement(w.a,{variant:"secondary",size:"lg",type:"submit"},"Order Now"))},_=function(e){var t=e.cart.items.map((function(e,t){return c.a.createElement(n.Fragment,{key:e.cartId},c.a.createElement("tr",null,c.a.createElement("td",{className:"quantity"},e.count," "),c.a.createElement("td",{className:"title"},c.a.createElement("span",{className:"name"},e.name)),c.a.createElement("td",{className:"price"},"\u20a6",e.price.toFixed(2))),e.options?e.options.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null),c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.price))})):null)}));return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xl-4 col-lg-5"},c.a.createElement("div",{className:"cart-details shadow bg-white mb-4"},c.a.createElement("div",{className:"bg-dark text-light p-4"},c.a.createElement("h5",{className:"mb-0"},"Your order")),c.a.createElement("table",{className:"cart-table"},c.a.createElement("tbody",null,t)),c.a.createElement("div",{className:"cart-summary"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-7 text-right text-muted"},"Order total:"),c.a.createElement("div",{className:"col-5"},c.a.createElement("strong",null,"\u20a6",c.a.createElement("span",{className:"cart-products-total"},e.cart.totalAmount.toFixed(2))))),c.a.createElement("hr",{className:"hr-sm"}),c.a.createElement("div",{className:"row text-lg"},c.a.createElement("div",{className:"col-7 text-right text-muted"},"Total:"),c.a.createElement("div",{className:"col-5"},c.a.createElement("strong",null,"\u20a6",c.a.createElement("span",{className:"cart-total"},e.cart.totalAmount.toFixed(2)))))))),c.a.createElement("div",{className:"col-xl-8 col-lg-7 order-lg-first"},c.a.createElement("div",{className:"bg-white p-4 p-md-5 mb-4"},c.a.createElement("h4",{className:"border-bottom pb-4"},c.a.createElement("i",{className:"fas fa-user mr-3 text-secondary"}),"Your information"),c.a.createElement(P,{handleOrder:function(t){e.setPage("review");e.setOrder((function(a){return Object(i.a)({},t,{},e.cart,{orderNum:"",trxRef:"order-".concat(k.a.generate(8))})}))}})))))},A=function(e){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-10 bg-light p-4 text-center"},c.a.createElement("p",null,"Your order number is ",e.myOrder.orderNum),c.a.createElement(w.a,{variant:"secondary",size:"lg",onClick:e.resetApp},"Make New Order"))))},M=a(205),U=a(206),F=a.n(U).a.create({baseURL:"/api/v1"}),T=function(e){null===localStorage.getItem("auth_token")&&localStorage.setItem("auth_token",e),void 0===f&&(f=e||localStorage.getItem("auth_token")),F.defaults.headers.common.Authorization="Bearer ".concat(f)},L=function(){return F.get("/menu_items")},D=function(){return F.get("/condiments")},R=function(e){if(e.response)return e.response.data;e.request},H=function(e){var t={email:e.myOrder.email,amount:100*e.myOrder.totalAmount,metadata:{name:e.myOrder.firstName+" "+e.myOrder.lastName,phone:e.phone},reference:e.myOrder.trxRef,publicKey:"pk_test_5d5facf8af8745fa457407f225166220f2d4d426",text:"Pay With PayStack",onSuccess:function(){return a()},onClose:function(){return alert("Wait! You need this oil, don't go!!!!")}},a=function(){var t;console.log("add order to db here"),(t=e.myOrder.trxRef,F.get("/verify",{params:{trxref:t}})).then((function(t){console.log(t.data),function(e){var t=Object(i.a)({},e);return delete t.status,delete t.orderNum,F.post("/orders",{order:{details:t,status:e.status,order_num:e.orderNum}})}(e.myOrder).then((function(t){console.log(t.data.order_num),e.setOrder((function(e){var a=Object(i.a)({},e);return a.orderNum=t.data.order_num,a}))})),e.setPage("complete")}))};return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-10 bg-light p-4 text-center"},c.a.createElement("p",null,"Order Name: ",e.myOrder.firstName+""+e.myOrder.lastName),c.a.createElement("p",null,"Order Email: ",e.myOrder.email),c.a.createElement("p",null,"Order Amount: \u20a6",e.myOrder.totalAmount),c.a.createElement(M.a,Object.assign({className:"btn btn-secondary btn-lg"},t)))))},G={items:[],totalAmount:0,status:!1},B=function(e){var t=Object(n.useState)("menu"),a=Object(m.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)([]),i=Object(m.a)(o,2),u=i[0],d=i[1],p=Object(n.useState)(G),E=Object(m.a)(p,2),b=E[0],f=E[1],v=Object(n.useState)({}),N=Object(m.a)(v,2),g=N[0],h=N[1],O=Object(n.useState)(!0),j=Object(m.a)(O,2),y=j[0],k=j[1];return Object(n.useEffect)((function(){L().then((function(e){d(e.data)})),k(!1)}),[]),"menu"===r?c.a.createElement("div",{className:"wrapper"},c.a.createElement(s,{text:"Quick Service Menu"}),c.a.createElement(C,{menuItems:u,setPage:l,cart:b,setCart:f,isLoading:y})):"checkout"===r?c.a.createElement("div",{className:"wrapper"},c.a.createElement(s,{text:"Checkout"}),c.a.createElement(_,{cart:b,setOrder:h,setPage:l,myOrder:g})):"review"===r?c.a.createElement("div",{className:"wrapper"},c.a.createElement(s,{text:"Review Order"}),c.a.createElement(H,{myOrder:g,setOrder:h,setPage:l})):"complete"===r?c.a.createElement("div",{className:"wrapper"},c.a.createElement(s,{text:"Order Complete"}),c.a.createElement(A,{myOrder:g,resetApp:function(){l("menu"),f({items:[],totalAmount:0,status:!1}),h({})}})):void 0},z=(a(341),function(){return c.a.createElement(B,null)}),q=a(22),Y=a.n(q),K=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],l=a[1],s=e.menuclass.map((function(e){return c.a.createElement("li",{key:e.id,className:"list-group-item"},e.name)}));return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("ul",{className:"list-group mb-3"},s),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{name:"name",value:r,onChange:function(e){l(e.target.value)},className:"form-control"}),c.a.createElement("button",{onClick:function(t){t.preventDefault(),function(e){T();var t={name:e};return F.post("/menu_classes",{menu_class:t})}(r).then((function(t){201===t.status&&"Created"===t.statusText&&(Y.a.info("Add Menu Class ".concat(t.data.name)),console.log(t.data),e.setmenuclass((function(e){var a=Object(o.a)(e);return a.push(t.data),a})),l(""))})).catch((function(e){return R(e)}))},className:"btn btn-primary btn-sm mt-2"},"Add Menu Class"))))))},J=a(26),Q=function(e){var t=e.columns,a=e.data,n=Object(J.useTable)({columns:t,data:a,initialState:{pageIndex:0,hiddenColumns:["id"]}},J.useSortBy,J.usePagination,J.useRowSelect,J.useRowState,(function(t){t.visibleColumns.push((function(t){return[].concat(Object(o.a)(t),[{Cell:function(t){var a=t.row;return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"btn btn-primary btn-sm mr-1",onClick:function(){return O(a)},disabled:e.isUpdate},"Edit"),c.a.createElement("button",{className:"btn btn-primary btn-sm mr-1",onClick:function(){return e.handleModalShow(a)},data:a},"Options"))}}])}))})),r=n.getTableProps,l=n.getTableBodyProps,m=n.headerGroups,s=n.page,u=n.prepareRow,d=n.canPreviousPage,p=n.canNextPage,E=(n.pageOptions,n.pageCount),b=n.gotoPage,f=n.nextPage,v=n.previousPage,N=n.setPageSize,g=n.state,h=(g.pageIndex,g.pageSize),O=function(t){console.log(t),e.setIsUpdate((function(e){return!e})),console.log(e.isUpdate),e.setCondiment(Object(i.a)({},t.values))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("table",Object.assign({},r(),{className:"table table-bordered mt-2 mb-2"}),c.a.createElement("thead",null,m.map((function(e){return c.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return c.a.createElement("th",e.getHeaderProps(e.getSortByToggleProps()),e.render("Header"),c.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""))})))}))),c.a.createElement("tbody",l(),s.map((function(e){return u(e),c.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return c.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 col"},c.a.createElement("div",{className:"page-item"},c.a.createElement("select",{className:"custom-select w-25",value:h,onChange:function(e){N(Number(e.target.value))}},[10,20,30,40,50].map((function(e){return c.a.createElement("option",{key:e,value:e},"Show ",e)}))))),c.a.createElement("div",{className:"col-md-6 col"},c.a.createElement("nav",{"aria-label":"Page navigation example"},c.a.createElement("ul",{className:"pagination justify-content-end"},c.a.createElement("li",{className:"page-item"},c.a.createElement("button",{onClick:function(){return b(0)},className:"page-link",disabled:!d},"First")),c.a.createElement("li",{className:"page-item"},c.a.createElement("button",{onClick:function(){return v()},className:"page-link",disabled:!d},"Previous")," "),c.a.createElement("li",{className:"page-item"},c.a.createElement("button",{onClick:function(){return f()},className:"page-link",disabled:!p},"Next")," "),c.a.createElement("li",{className:"page-item"},c.a.createElement("button",{onClick:function(){return b(E-1)},className:"page-link",disabled:!p},"Last")," "))))))},V=function(e){var t=e.menuclass.map((function(e){return c.a.createElement("option",{key:e.id,value:e.name},e.name)})),a=function(t){var a=t.target,n=a.name,c=a.value;e.setMenuItem((function(e){var t=Object(i.a)({},e);return t[n]="price"===n?""===c?0:parseInt(c):c,t}))};return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"form"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"name"},"Menu Item Name"),c.a.createElement("input",{type:"text",name:"name",className:"form-control",placeholder:"Item Name",value:e.menuItem.name,onChange:a})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"object_num"},"Menu Item Object Number"),c.a.createElement("input",{type:"text",name:"object_num",className:"form-control",placeholder:"Micros Object Num",value:e.menuItem.object_num,onChange:a})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"price"},"Menu Item Price"),c.a.createElement("input",{type:"text",name:"price",className:"form-control",placeholder:"Item Price",value:e.menuItem.price,onChange:a})),c.a.createElement("div",{className:"form-group"},c.a.createElement("select",{name:"menu_class",value:e.menuItem.menu_class,onChange:a,className:"custom-select"},t)),c.a.createElement("div",{className:""},c.a.createElement("button",{className:"btn btn-primary btn-sm mr-1",onClick:e.handleClick},e.isUpdate?"Update Menu Item":"Add Menu Item"),c.a.createElement("button",{className:"btn btn-secondary btn-sm",onClick:e.handleCancel,style:e.isUpdate?{}:{display:"none"}},"Cancel")))))},W=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],l=a[1],s=e.condiments.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.name)}));return c.a.createElement(c.a.Fragment,null,c.a.createElement("select",{name:"menu_class",value:r,onChange:function(e){var t=e.target.value;l(t)},className:"custom-select"},s),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){var t,a={menu_item_id:e.menuitem.id,condiment_id:r};(t=a,T(),F.post("/menu_options",{menu_option:{menu_item_id:t.menu_item_id,condiment_id:t.condiment_id}})).then((function(t){201===t.status&&"Created"===t.statusText?e.setmenuitems((function(a){var n=Object(o.a)(a);return n.map((function(a){return a.id===e.menuitem.id&&(a.options.push(t.data),Y.a.info("".concat(t.data.name," added as option for ").concat(a.name))),a})),n})):Y.a.info("There was a problem adding the option, Contact your administrator")})).catch((function(e){return Y.a.info("Option not added")}))}},"Add Option"))},X=function(e){var t=function(t){t.preventDefault();var a,n=parseInt(t.target.attributes.option_id.value);(a=n,T(),F.delete("/menu_options/".concat(a))).then((function(t){e.setmenuitems((function(t){var a=Object(o.a)(t);return a.map((function(t){return t.id===e.menuitem.id&&(t.options=t.options.filter((function(e){return e.option_id!==n}))),t})),a}))}))},a=e.menuitem.options.map((function(e){return c.a.createElement("li",{key:e.id,className:"list-group-item"},e.name," ",c.a.createElement("button",{className:"btn btn-sm btn-danger float-right",onClick:t,option_id:e.option_id},"Remove"))}));return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header"},"Option for ",e.menuitem.name),c.a.createElement("div",{className:"card-body"},c.a.createElement("ul",{className:"list-group"},a),c.a.createElement(W,{condiments:e.condiments,menuitem:e.menuitem,setmenuitems:e.setmenuitems})))};d.a.setAppElement("#root");var $=function(e){var t={name:"",object_num:"",menu_class:"",price:0},a=Object(n.useState)(!1),r=Object(m.a)(a,2),l=r[0],s=r[1],i=Object(n.useState)(!1),u=Object(m.a)(i,2),p=u[0],E=u[1],b=Object(n.useState)(t),f=Object(m.a)(b,2),v=f[0],N=f[1],g=Object(n.useState)(""),h=Object(m.a)(g,2),O=h[0],j=h[1],C=Object(n.useState)([]),y=Object(m.a)(C,2),k=(y[0],y[1]),x=Object(n.useMemo)((function(){return e.menuitems}),[e.menuitems]),I=Object(n.useMemo)((function(){return[{Header:"ID",accessor:"id",isVisible:!1},{Header:"Name",accessor:"name"},{Header:"Object Num",accessor:"object_num"},{Header:"Price",accessor:"price"},{Header:"Menu Class",accessor:"menu_class"}]}),[l]);return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4"},c.a.createElement(V,{menuclass:e.menuclass,menuItem:v,setMenuItem:N,isUpdate:l,setIsUpdate:s,setmenuitems:e.setmenuitems,handleClick:function(a){a.preventDefault(),Object.values(v).includes("")?Y.a.info("Please Compete the form"):l?function(e){return T(),F.patch("/menu_items/".concat(e.id),{menu_item:{name:e.name,price:e.price,object_num:e.object_num,menu_class:e.menu_class}})}(v).then((function(a){200===a.status&&"OK"===a.statusText&&L().then((function(t){return e.setmenuitems(t.data)})),N(t),s((function(e){return!e})),Y.a.info("Successfully Updated")})):function(e){return T(),F.post("/menu_items",{menu_item:e})}(v).then((function(a){201===a.status&&"Created"===a.statusText&&(e.setmenuitems((function(e){var t=Object(o.a)(e);return t.push(a.data),t})),Y.a.info("Successfully Added"),N(t))}))},handleCancel:function(){s((function(e){return!e})),N(t)}}),c.a.createElement(d.a,{isOpen:p,className:"mymodal",overlayClassName:"mymodal-overlay",onRequestClose:function(){return E(!1)},contentLabel:"Example Modal"},c.a.createElement(X,{condiments:e.condiments,menuitem:O,setmenuitems:e.setmenuitems}))),c.a.createElement("div",{className:"col-md-8"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement(Q,{columns:I,data:x,setCondiment:N,setIsUpdate:s,isUpdate:l,handleModalShow:function(e){E(!0),j(e.original),k(e.original.options)}})))))},Z=a(77),ee=a.n(Z),te=a(207),ae=function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(m.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(""),o=Object(m.a)(s,2),u=o[0],d=o[1],p=function(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(i.a)({},e,Object(x.a)({},a,n))}))},E=function(){var t=Object(te.a)(ee.a.mark((function t(a){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.abrupt("return",(n=r,F.post("/sessions",{email:n.email,password:n.password})).then((function(t){T(t.data.auth_token),e.setIsloggedIn(!0)})).catch((function(e){return d(R(e))})));case 2:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"container h-100"},c.a.createElement("div",{className:"row justify-content-center align-items-center h-100"},c.a.createElement("div",{className:"col-md-5"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{id:"login",className:"login p-4"},c.a.createElement("div",{style:""===u?{display:"none"}:{},class:"alert alert-warning",role:"alert"},u),c.a.createElement("form",null,c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"text",name:"email",className:"form-control",placeholder:"Email Address",onChange:p})),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"password",name:"password",className:"form-control",placeholder:"Password",onChange:p})),c.a.createElement("button",{type:"submit",className:"btn btn-secondary",onClick:E},"Login"))))))))},ne=(a(345),a(346),a(347),function(e){return c.a.createElement("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light"},c.a.createElement("ul",{className:"navbar-nav"},c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},c.a.createElement("i",{className:"fas fa-bars"})))),c.a.createElement("ul",{className:"navbar-nav ml-auto"},c.a.createElement("li",{className:"nav-item"},c.a.createElement("button",{className:"btn btn-secondary",onClick:function(t){t.preventDefault(),e.setIsloggedIn(!1),localStorage.removeItem("auth_token")}},"Log out"))))}),ce=function(e){var t=function(t){t.preventDefault();var a=t.target.attributes.href.value;e.setSelectPage(a)};return c.a.createElement("aside",{className:"main-sidebar sidebar-dark-primary elevation-4"},c.a.createElement("a",{href:"/admin",className:"brand-link  text-center"},c.a.createElement("span",{className:"brand-text font-weight-bold"},"ADMIN")),c.a.createElement("div",{className:"sidebar"},c.a.createElement("nav",{className:"mt-2"},c.a.createElement("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu"},c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{href:"menuclass",className:"nav-link",onClick:t},"Menu Class")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{href:"condiments",className:"nav-link",onClick:t},"Condiments")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{href:"menuitems",className:"nav-link",onClick:t},"Menu Items"))))))},re=function(e){return c.a.createElement("div",{className:"content-wrapper"},c.a.createElement("div",{className:"content-header"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-sm-6"},c.a.createElement("h1",{className:"m-0 text-dark"},e.pageTitle))))),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"container-fluid"},e.activePage)))},le=function(){return c.a.createElement("div",null,"this the the Dashboard")},me=function(e){var t=e.columns,a=e.data,n=Object(J.useTable)({columns:t,data:a,initialState:{pageIndex:0,hiddenColumns:["id"]}},J.useSortBy,J.usePagination,J.useRowSelect,J.useRowState,(function(t){t.visibleColumns.push((function(t){return[].concat(Object(o.a)(t),[{Cell:function(t){var a=t.row;return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(){return O(a)},disabled:e.isUpdate},"Edit"))}}])}))})),r=n.getTableProps,l=n.getTableBodyProps,m=n.headerGroups,s=n.page,u=n.prepareRow,d=n.canPreviousPage,p=n.canNextPage,E=(n.pageOptions,n.pageCount),b=n.gotoPage,f=n.nextPage,v=n.previousPage,N=n.setPageSize,g=n.state,h=(g.pageIndex,g.pageSize),O=function(t){console.log(t),e.setIsUpdate((function(e){return!e})),console.log(e.isUpdate),e.setCondiment(Object(i.a)({},t.values))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("table",Object.assign({},r(),{className:"table table-bordered mt-2 mb-2"}),c.a.createElement("thead",null,m.map((function(e){return c.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return c.a.createElement("th",e.getHeaderProps(e.getSortByToggleProps()),e.render("Header"),c.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""))})))}))),c.a.createElement("tbody",l(),s.map((function(e){return u(e),c.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return c.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 col"},c.a.createElement("div",{className:"page-item"},c.a.createElement("select",{className:"custom-select w-25",value:h,onChange:function(e){N(Number(e.target.value))}},[10,20,30,40,50].map((function(e){return c.a.createElement("option",{key:e,value:e},"Show ",e)}))))),c.a.createElement("div",{className:"col-md-6 col"},c.a.createElement("nav",{"aria-label":"Page navigation example"},c.a.createElement("ul",{className:"pagination justify-content-end"},c.a.createElement("li",{className:"page-item"},c.a.createElement("button",{onClick:function(){return b(0)},className:"page-link",disabled:!d},"First")),c.a.createElement("li",{className:"page-item"},c.a.createElement("button",{onClick:function(){return v()},className:"page-link",disabled:!d},"Previous")," "),c.a.createElement("li",{className:"page-item"},c.a.createElement("button",{onClick:function(){return f()},className:"page-link",disabled:!p},"Next")," "),c.a.createElement("li",{className:"page-item"},c.a.createElement("button",{onClick:function(){return b(E-1)},className:"page-link",disabled:!p},"Last")," "))))))},se=function(e){var t={name:"",object_num:"",price:0},a=function(t){var a=t.target,n=a.name,c=a.value;e.setCondiment((function(e){var t=Object(i.a)({},e);return t[n]="price"===n?""===c?0:parseInt(c):c,t}))};return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"form"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"name"},"Condiment Name"),c.a.createElement("input",{id:"name",type:"text",name:"name",className:"form-control",placeholder:"Item Name",value:e.condiment.name,onChange:a})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"object_num"},"POS Object Number"),c.a.createElement("input",{id:"object_num",type:"text",name:"object_num",className:"form-control",placeholder:"Micros Object Num",value:e.condiment.object_num,onChange:a})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"price"},"Price"),c.a.createElement("input",{id:"price",type:"text",name:"price",className:"form-control",placeholder:"Item Price",value:e.condiment.price,onChange:a})),c.a.createElement("div",{className:""},c.a.createElement("button",{className:"btn btn-primary btn-sm mr-1",onClick:function(a){var n;(a.preventDefault(),Object.values(e.condiment).includes(""))?alert("please complete the form"):e.isUpdate?(n=e.condiment,T(),F.patch("/condiments/".concat(n.id),{name:n.name,price:n.price,object_num:n.object_num})).then((function(a){200===a.status&&"OK"===a.statusText&&D().then((function(t){return e.setCondiments(t.data)})),e.setCondiment(t),e.setIsUpdate((function(e){return!e})),Y.a.info("Successfully Updated")})):function(e){return T(),F.post("/condiments",{condiment:e})}(e.condiment).then((function(a){201===a.status&&"Created"===a.statusText&&(e.setCondiments((function(e){var t=Object(o.a)(e);return t.push(a.data),t})),Y.a.info("Successfully Added"),e.setCondiment(t))}))}},e.isUpdate?"Update Condiment":"Add Condiment"),c.a.createElement("button",{className:"btn btn-secondary btn-sm",onClick:function(){e.setIsUpdate((function(e){return!e})),e.setCondiment(t)},style:e.isUpdate?{}:{display:"none"}},"Cancel")))))},oe=function(e){var t=Object(n.useState)({name:"",object_num:"",price:0}),a=Object(m.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(!1),o=Object(m.a)(s,2),i=o[0],u=o[1],d=Object(n.useMemo)((function(){return[{Header:"ID",accessor:"id",isVisible:!1},{Header:"Name",accessor:"name"},{Header:"Object Num",accessor:"object_num"},{Header:"Price",accessor:"price"}]}),[]),p=Object(n.useMemo)((function(){return e.condiments}),[e.condiments]);return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4"},c.a.createElement(se,{setCondiments:e.setCondiments,condiment:r,setCondiment:l,isUpdate:i,setIsUpdate:u})),c.a.createElement("div",{className:"col-md-8"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement(me,{columns:d,data:p,setCondiment:l,setIsUpdate:u,isUpdate:i})))))},ie=a(465),ue=a(464),de=a(462),pe=function(){return c.a.createElement("div",null,c.a.createElement(ie.a,null,c.a.createElement(ue.a,{active:!0},c.a.createElement(de.a,null,"Loading"))),c.a.createElement(ie.a,null,c.a.createElement(ue.a,{active:!0,inverted:!0},c.a.createElement(de.a,{inverted:!0},"Loading"))))};window.$=window.jQuery=a(175),a(455);var Ee=function(){var e=Object(n.useState)(!0),t=Object(m.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)([]),s=Object(m.a)(l,2),o=s[0],i=s[1],u=Object(n.useState)([]),d=Object(m.a)(u,2),p=d[0],E=d[1],b=Object(n.useState)([]),f=Object(m.a)(b,2),v=f[0],N=f[1],g=Object(n.useState)(),h=Object(m.a)(g,2),O=h[0],j=h[1],C=Object(n.useState)(),y=Object(m.a)(C,2),k=y[0],x=y[1],I=Object(n.useState)(),w=Object(m.a)(I,2),S=w[0],P=w[1],_=Object(n.useState)(""),A=Object(m.a)(_,2),M=A[0],U=A[1];return Object(n.useEffect)((function(){document.body.classList.add("layout-fixed")})),Object(n.useEffect)((function(){localStorage.getItem("auth_token")?j(!0):j(!1)}),[]),Object(n.useEffect)((function(){O&&Promise.all([F.get("/menu_classes"),L(),D()]).then((function(e){i(e[0].data),E(e[1].data),N(e[2].data),r(!1)}))}),[O]),Object(n.useEffect)((function(){switch(S){case"menuclass":x(c.a.createElement(K,{menuclass:o,setmenuclass:i})),U("Menu Classes");break;case"condiments":x(c.a.createElement(oe,{condiments:v,setCondiments:N})),U("Condiments");break;case"menuitems":x(c.a.createElement($,{pageTitle:"Menu Items",menuitems:p,condiments:v,setmenuitems:E,menuclass:o})),U("Menu Items");break;default:x(c.a.createElement(le,null))}}),[S,p,v,o]),!0===O?a?c.a.createElement(pe,null):c.a.createElement("div",{className:"wrapper"},c.a.createElement(ne,{setIsloggedIn:j}),c.a.createElement(ce,{setSelectPage:P}),c.a.createElement(re,{activePage:k,pageTitle:M})):!1===O?c.a.createElement(ae,{setIsloggedIn:j}):null},be=a(216),fe=a(11);var ve=function(){return c.a.createElement(be.a,null,c.a.createElement(fe.c,null,c.a.createElement(fe.a,{path:"/admin"},c.a.createElement(Ee,null)),c.a.createElement(fe.a,{exact:!0,path:"/"},c.a.createElement(z,null))))};a(457);l.a.render(c.a.createElement(ve,null),document.getElementById("root"))}},[[227,1,2]]]);
//# sourceMappingURL=main.1e960554.chunk.js.map